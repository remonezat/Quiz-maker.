<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">
    <title>Test Page</title>
    <link rel="stylesheet" href="page.css">
    <link rel="stylesheet" href="testpage.css">

    <link rel="stylesheet" href="blankpage.css">


</head>

<body>
    <header class="tm-header" id="head">

        <div class="tm-container">

            <nav class="tm-nav">
                <a href="homepage.html"><img src="images/quizlogo.png" alt="" class="logo"></a>
                <ul>

                    <li><a href="homepage.html">Home</a></li>
                    <li><a href="About us.html">About us</a></li>
                    <li><a href="#contact">Contact</a></li>

                  <li><a id="logout" href="#" onclick="logout()">Logout</a></li>
                    <li ><a id="studentlog" href="#"data-target="model-studentlogin" >Student Login</a></li>
                    <li><a href="#" id="teacherlog" data-target="model-teacherlogin">Teacher Login</a></li>






                </ul>
                <h1>Online Quiz Maker</h1>
            </nav>

        </div>
    </header>
 <div id="loginstudent" class="login-form studentlogin"  >
        <form action="" class="studentLogin">
            <h3>Login</h3>

            <input type="email" name="email" class="box" placeholder="Enter Your Email"required id=email>
            <input type="password" name="password" class="box" placeholder="Password"required id="password">
             <input type="number" name="number" class="box" placeholder="Enter Your Id"required id="Nation-Id">
            <p>Forget Password ?<a href="#">Click Here</a></p>
            <p>Don't have an account?<a href="Registry.html">Registry Now</a></p>
            <button type="button"id="studentbtn" class="btn" onclick="loginst()">Login</button>

            <i class="fas fa-times closestudent"></i>

        </form>
    </div>
    <div id="loginteacher" class="login-form teacherlogin">
        <form action="" class="teacherLogin">
            <h3>Login</h3>
            

            <input type="email" name="email" class="box" placeholder="Enter Your Email"required id="email">
            <input type="password" name="password" class="box" placeholder="Password"required id="password">
             <input type="number" name="number" class="box" placeholder="Enter Your Id"required id="nation-id">
            <p>Forget Password ?<a href="#">Click Here</a></p>
            <p>Don't have an account?<a href="Registry.html">Registry Now</a></p>
            <button type="button"id="teacherbtn" class="btn" onclick="loginte('teacherLogin')">Login </button>
            <i class="fas fa-times closeteacher"></i>

        </form>
    </div>


    </fieldset>

    </div>
    <div class="yourdataa">
        <div class="student-profile">
            <!--  <form action="" id="active" >-->

            <fieldset class="H">
                <br>
                <label class="I" for="ExamCode"><span class="I-1">Exam Code</span> </label>
                <input class="J" type="text" id="ExamCode" name="ExamCode" required><br><br>

            </fieldset>
            <br><br>
            <span class="buttons">
                <div style="text-align: center; width: 100%;">
                    <button class="btn2 Start-test" id="selectf"> Start Test</button>
                </div>

            </span>
            <br><br>
            <fieldset class="Fi">
                <p class="K"><b>Choose The Correct Answer.</b> </p><br>
                <input class="M" type="text" id="qtitle" name="qtitle" placeholder="Qusetion Title" readonly>
                <input class="N" type="text" pattern="[0-9]{2}" id="qdegree" name="qdegree"
                    placeholder="Qusetion Degree" required> <br><br>

                <br>
                <p class="Fi-1">Question Text </p> <input class="P" type="text" id="qtext" name="qname" readonly>

                <label class="O" for="qtext">

                </label><br><br>
                <!--<textarea id="qtext" cols="60" rows="7" name="qname" required>
            </textarea>-->


                <br><br>

                <span class="O">First Answer</span>
                <input type="radio" name="group1" value="firstanswer">
                <!-- <textarea id="qfanswer" cols="60" rows="3" name="firstanswertxt" required>
        
                        </textarea>-->
                <input class="R" type="text" id="qfanswer" name="firstanswertxt" readonly>
                <br><br>



                <span class="O">Second Answer</span>
                <input type="radio" name="group1" value="secondanswer">
                <!--<textarea id="qsanswer" cols="60" rows="3" name="secondanswertxt" required>
                        </textarea>-->
                <input class="R" type="text" id="qsanswer" name="secondanswertxt" readonly>

                <br><br>


                <span class="O">Third Answer</span>
                <input type="radio" name="group1" value="thirdanswer">
                <!--<textarea id="qtanswer" cols="60" rows="3" name="thirdanswertxt" required>
                        </textarea>-->
                <input class="R" type="text" id="qtanswer" name="thirdanswertxt" readonly>
                <br><br>

                <span class="O">Forth Answer</span>
                <input type="radio" name="group1" value="forthanswer">
                <input class="R" type="text" id="qfoanswer" name="forthanswertxt" readonly>
                <br><br>
                <div style="text-align: center; width: 100%;flex-direction: row;">
                    <button class="btn" id="nextq">Next Question</button>
                    <button class="btn" id="showresult" style="display: none;">show result</button>
                    <input style="width: 90px; text-align: center;display: block; font-size: 20px; font-weight: bold;"
                        type="text" id="txtresult" disabled></input>
                </div>
        </div>

        </fieldset>
    </div>
    </div>
    <footer class="tm-footer">
        <h2>Copyrights are reserved By ITI 2021</h2>
        <p><a href="#head">Click Here To Go To Top Page</a></p>
    </footer>

    <!---------------------------------------------------------------------------->
 <script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-auth.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-analytics.js"></script>
    <script id="MainScript">
        //---------firebase config---------------//
        var firebaseConfig = {
    apiKey: "AIzaSyBOlJf2ml8t2FE4ot3qMbazuoOnGqFNVoY",
    authDomain: "quiz-maker-83cb2.firebaseapp.com",
    databaseURL: "https://quiz-maker-83cb2-default-rtdb.firebaseio.com",
    projectId: "quiz-maker-83cb2",
    storageBucket: "quiz-maker-83cb2.appspot.com",
    messagingSenderId: "810135281246",
    appId: "1:810135281246:web:2ec430338417d9e4c59ecf",
    measurementId: "G-6F5TB8PVFG"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

        //----------------------------------------------------------------//

        var Qnum = 1;
        var examcode, questionnum, questiontitle, questiondegree, questiontext, answer1, answer2, answer3, answer4,
            validanswer;

        function Ready() {
            examcode = document.getElementById("ExamCode").value;
            questiontitle = document.getElementById("qtitle").value;
            questiondegree = document.getElementById("qdegree").value;
            questiontext = document.getElementById("qtext").value;
            answer1 = document.getElementById("qfanswer").value;
            answer2 = document.getElementById("qsanswer").value;
            answer3 = document.getElementById("qtanswer").value;
            answer4 = document.getElementById("qfoanswer").value;
            validanswer = displayvalidanswer();
        }

        function displayvalidanswer() {
            var ele = document.getElementsByName('group1');
            for (i = 0; i < ele.length; i++) {
                if (ele[i].checked) {
                    return ele[i].value;
                }
            }
        }

        //---------------------------selection--------------------------------------------------------
        var validanswer;
        document.getElementById("selectf").onclick = function () {
            // Ready();
            firebase.database().ref('Questions/' + Qnum).on('value', function (snapshot) {
                document.getElementById("ExamCode").value = snapshot.val().ExamCode;
                document.getElementById("qtitle").value = snapshot.val().QuestionTitle;
                document.getElementById("qdegree").value = snapshot.val().QuestionDegree;
                document.getElementById("qtext").value = snapshot.val().QuestionText;
                document.getElementById("qfanswer").value = snapshot.val().Answer1;
                document.getElementById("qsanswer").value = snapshot.val().Answer2;
                document.getElementById("qtanswer").value = snapshot.val().Answer3;
                document.getElementById("qfoanswer").value = snapshot.val().Answer4;
                validanswer = snapshot.val().ValidAnswer;
            });
            Qnum = Qnum + 1;
            const btn1 = document.getElementById("selectf");
            btn1.disabled = true;
        }
        //----------------------------------Result---------------------------------------------------------------
        var totaldegree = 0;
        var mydegree = 0;
        var lastq;
        document.getElementById("nextq").onclick = function () {
            // Ready();
            totaldegree += parseInt(document.getElementById("qdegree").value);
            if (displayvalidanswer() == validanswer) {
                mydegree += parseInt(document.getElementById("qdegree").value)
            } else {
                mydegree += 0;
            }
            alert(mydegree);
            firebase.database().ref('Questions/' + Qnum).on('value', function (snapshot) {
                document.getElementById("ExamCode").value = snapshot.val().ExamCode;
                document.getElementById("qtitle").value = snapshot.val().QuestionTitle;
                document.getElementById("qdegree").value = snapshot.val().QuestionDegree;
                document.getElementById("qtext").value = snapshot.val().QuestionText;
                document.getElementById("qfanswer").value = snapshot.val().Answer1;
                document.getElementById("qsanswer").value = snapshot.val().Answer2;
                document.getElementById("qtanswer").value = snapshot.val().Answer3;
                document.getElementById("qfoanswer").value = snapshot.val().Answer4;
                lastq = snapshot.val().LastQuestion;
            });
            Qnum = Qnum + 1;
            if (lastq == "Lastquestion") {
                const btn2 = document.getElementById("nextq");
                btn2.disabled = true;
                btn2.style.display = "none";
                document.getElementById("showresult").style.display = "block";

            }
        }
        //---------------------------------------------------
        document.getElementById("showresult").onclick = function () {
            document.getElementById("txtresult").style.display = "block"
            document.getElementById("txtresult").value = mydegree + "/" + totaldegree;
        }

        
function logout() {
   firebase.auth().signOut();
   window.location.replace("homepage.html")
}

    </script>

</body>

</html>